# Lester Lee and Brianna Rettig Python client
import xmlrpclib, sys

name = "http://"+sys.argv[1]+".cs.williams.edu:8888"
server = xmlrpclib.Server(name)

def parseRequest(req):
    req = req.lower().split(" ")
    if "buy" in req:
        return server.bookstore.buy(int(req[1]))
    elif "lookup" in req:
        return server.bookstore.lookup(int(req[1]))
    elif "search" in req:
        return server.bookstore.search(" ".join(req[1:]))
    else:
        return "Invalid request!"

while True:
    request = input("> ")
    parseRequest(request)
    
